i am getting this error from my code:
"Debug - req.userId: undefined type: undefined"

and this is my route:
"transactions.post('/wallet/deposit',
    depositRateLimit,
    verifyToken,
    // authorization("USER"),
    validateDepositInput,
    async (req: AuthenticatedRequest, res: Response) => {
        try {
            const { amount, transactionId } = req.body as DepositRequest;

            // Add this debugging line
            console.log('Debug - req.userId:', req.userId, 'type:', typeof req.userId);

            // Type guard to narrow down the type
            if (typeof req.user !== 'number') {
                return res.status(403).json({ message: 'User ID not found in token' });
            }

            const result = await createDeposit({
                userId: req.user,
                amount,
                transactionId
            });

            if (result.success) {
                res.status(201).json(result);
            } else {
                res.status(400).json(result);
            }
        } catch (error) {
            console.error('Error creating deposit:', error);
            res.status(500).json({
                success: false,
                message: 'Internal server error while creating deposit'
            });
        }
    }
);

/**
 * GET /api/wallet/balance
 * Get user's wallet balance and transaction history
 */
transactions.get('/wallet/balance',
    verifyToken,
    async (req: AuthenticatedRequest, res: Response) => {
        try {
            // Type guard to narrow down the type
            if (typeof req.user !== 'number') {
                return res.status(403).json({ message: 'User ID not found in token' });
            }

            const balance = await getUserWalletBalance(req.user);

            res.json({
                success: true,
                data: balance
            });
        } catch (error) {
            console.error('Error fetching wallet balance:', error);
            res.status(500).json({
                success: false,
                message: 'Failed to fetch wallet balance'
            });
        }
    }
);"

and this is my frontend function:
"try {
                const response = await fetch('/api/wallet/deposit', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                const data = await response.json();
                loading.style.display = 'none';

                if (response.ok) {
                    result.style.display = 'block';
                    document.getElementById('resultTitle').innerText = '✅ Payment Successful';
                    document.getElementById('resultMessage').innerText = data.message || 'Your payment was processed successfully.';
                    document.getElementById('resultDetails').innerHTML = `
                        <p><strong>Amount:</strong> $${amount}</p>
                        <p><strong>Transaction ID:</strong> ${transactionId}</p>
                    `;
                    form.reset();
                    planInfo.style.display = 'none';
                    targetAmountSection.style.display = 'none';
                } else {
                    throw new Error(data.message || 'Something went wrong');
                }

            } catch (error) {
                loading.style.display = 'none';
                result.style.display = 'block';
                document.getElementById('resultTitle').innerText = '❌ Payment Failed';
                document.getElementById('resultMessage').innerText = error.message;
                document.getElementById('resultDetails').innerHTML = '';
            }
        });"

what could be the problem and how do i fix it 
